!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("heyModal",[],e):"object"==typeof exports?exports.heyModal=e():t.heyModal=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/js",e(e.s=23)}([function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(6);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(1),r=n(0);t.exports=function(t){return o(r(t))}},function(t,e,n){function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(22),n(11),t.exports=function(){var t,e=0,n={body:null,elem:null,target:null,events:(t={open:null,close:null},o(t,"open",new CustomEvent("heyOpen")),o(t,"close",new CustomEvent("heyClose")),t),content:{title:null,body:null},visibleClass:"modal--is-visible",bodyOverflowClass:"modal-body-no-scroll",init:function(){this.body=document.querySelector("body"),this.setTarget(),this.id=e,this.checkTarget()&&(this.build(),this.removeTarget(),this.setMaxHeight(),this.bindEvents())},on:function(t,e){this.comp.wrapper.addEventListener(t,e)},build:function(){var t={};t.wrapper=document.createElement("div"),t.wrapper.classList.add("modal"),t.wrapper.setAttribute("aria-hidden","true"),t.dialog=document.createElement("div"),t.dialog.classList.add("modal__dialog"),t.dialog.setAttribute("role","dialog"),t.dialog.setAttribute("aria-labelledby","modal__title-"+this.id),t.header=document.createElement("div"),t.header.classList.add("modal__header"),t.title=document.createElement("h3"),t.title.classList.add("modal__title"),t.title.id="modal__title-"+this.id,t.body=document.createElement("div"),t.body.classList.add("modal__body"),t.body.style.overflow="auto",t.closeBtn=document.createElement("button"),t.closeBtn.classList.add("modal__close"),t.closeBtn.setAttribute("type","button"),t.closeBtn.setAttribute("aria-label","Close"),t.header.appendChild(t.title),t.header.appendChild(t.closeBtn),t.dialog.appendChild(t.header),t.dialog.appendChild(t.body),t.wrapper.appendChild(t.dialog),this.comp=t,this.populate(),this.body.appendChild(t.wrapper)},populate:function(){var t=this,e={};for(var n in this.content){if(!this.content[n]){var o=t.target.querySelector("[data-hey-"+n+"]");o&&(e[n]=o.innerHTML)}this.comp[n].innerHTML=e[n]}this.content=e},setTarget:function(){this.elem.hasAttribute("data-hey")?this.target=document.querySelector(this.elem.getAttribute("data-hey")):this.elem.hasAttribute("href")&&this.elem.getAttribute("href").indexOf("#")>=0&&(this.target=document.querySelector(this.elem.getAttribute("href")))},checkTarget:function(){var t=void 0;try{if(!this.target||!this.target.nodeType)throw t=!1,new Error("No modal target given.");t=!0}catch(t){console.log(t)}return t},removeTarget:function(){this.target.remove()},setMaxHeight:function(){var t=getComputedStyle(this.comp.wrapper),e=this.comp.header.offsetHeight,n=this.comp.wrapper.offsetHeight,o="calc("+n+"px - ("+t.paddingTop+" + "+t.paddingTop+") - "+e+"px)";this.comp.body.style.maxHeight=o},bindEvents:function(){var t=this;this.comp.wrapper.addEventListener("touchmove",function(t){t.preventDefault()},!1),this.comp.body.addEventListener("touchmove",function(t){t.stopPropagation()},!1),window.addEventListener("resize",function(){t.setMaxHeight()}),this.elem.addEventListener("click",function(e){e.preventDefault(),t.open()}),this.comp.wrapper.addEventListener("click",this.close.bind(this)),this.comp.closeBtn.addEventListener("click",this.close.bind(this)),this.comp.dialog.addEventListener("click",function(t){t.stopPropagation()});var e=this.comp.dialog.querySelector("[data-hey-close]");e&&e.addEventListener("click",function(e){e.preventDefault(),t.close()}),this.comp.wrapper.addEventListener("keydown",function(e){switch(e.keyCode){case 27:t.close();break;case 9:e.shiftKey?t.firstFocusable===document.activeElement&&(e.preventDefault(),t.lastFocusable.focus()):t.lastFocusable===document.activeElement&&(e.preventDefault(),t.firstFocusable.focus())}})},open:function(){this.comp.wrapper.classList.add(this.visibleClass),this.setPageScroll(!1),this.body.style.marginRight=this.measureScrollbar(),this.comp.wrapper.setAttribute("aria-hidden","false"),this.setLastFocusedElem(),this.setFocus(),this.comp.wrapper.dispatchEvent(this.events.open)},setFocus:function(){var t=this.comp.dialog.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');this.firstFocusable=t[0],this.lastFocusable=t[t.length-1],this.firstFocusable.focus()},setLastFocusedElem:function(){this.lastFocused=document.activeElement},close:function(){var t=this;this.comp.wrapper.classList.remove(this.visibleClass),this.lastFocused.focus();var e=function e(){t.setPageScroll(!0),t.body.style.marginRight=0,t.comp.wrapper.removeEventListener("transitionend",e),t.comp.wrapper.setAttribute("aria-hidden","true"),t.comp.wrapper.dispatchEvent(t.events.close)};this.comp.wrapper.addEventListener("transitionend",e)},setPageScroll:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.body.classList.remove(this.bodyOverflowClass):this.body.classList.add(this.bodyOverflowClass)},measureScrollbar:function(){var t=document.createElement("div");t.style.width=100,t.style.height=100,t.style.overflow="scroll",t.style.position="absolute",t.style.top=-9999,this.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return this.body.removeChild(t),e}};return function(t,o){e+=1;var r=Object.assign(Object.create(n),{elem:t},o);return r.init(),r}}()},function(t,e,n){var o=n(3),r=n(19),i=n(18);t.exports=function(t){return function(e,n,s){var a,c=o(e),l=r(c.length),u=i(s,l);if(t&&n!=n){for(;l>u;)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var o=n(14),r=n(12),i=n(15),s=n(20),a=n(1),c=Object.assign;t.exports=!c||n(8)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=o})?function(t,e){for(var n=s(t),c=arguments.length,l=1,u=r.f,d=i.f;c>l;)for(var p,f=a(arguments[l++]),h=u?o(f).concat(u(f)):o(f),v=h.length,m=0;v>m;)d.call(f,p=h[m++])&&(n[p]=f[p]);return n}:c},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(10),r=n(3),i=n(5)(!1),s=n(16)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),c=0,l=[];for(n in a)n!=s&&o(a,n)&&l.push(n);for(;e.length>c;)o(a,n=e[c++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){var o=n(13),r=n(7);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(17)("keys"),r=n(21);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(9),r="__core-js_shared__",i=o[r]||(o[r]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var o=n(2),r=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?r(t+e,0):i(t,e)}},function(t,e,n){var o=n(2),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){var o=n(0);t.exports=function(t){return Object(o(t))}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){try{var n=new window.CustomEvent("test");if(n.preventDefault(),n.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch(t){var o=function(t,e){var n,o;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};o.prototype=window.Event.prototype,window.CustomEvent=o}},function(t,e,n){t.exports=n(4)}])});